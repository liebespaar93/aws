{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Fullscreen Overlay Responsive Navigation Menu</title>
	<link rel="stylesheet" href="{% static 'style.css' %}" />
	<link rel="icon" href="data:;base64,iVBORw0KGgo=">
	<link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
	<script src="https://code.jquery.com/jquery-3.3.1.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"></script>
	<script defer src="{% static 'script/main.js' %}"></script>
	<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
	<!-- main -->
	<div class="menu-top-contain">
		<div class="menu-close">
			<div class="menu-close-img"><img src="{% static 'close-icon.png' %}" alt="" /></div>
		</div>
		<div class="hr"></div>
		<div class="menu">
			<div class="menu-left">
				<div class="menu-links">
					<div class="menu-link">
						<a href="#" id="v">Home <span>01</span></a>
					</div>
					<div class="menu-link">
						<a href="#" id="clicked">CAFE <span>02</span></a>
					</div>
					<div class="menu-link">
						<a href="#" id="unclicked">EDA <span>03</span></a>
					</div>
					<div class="menu-link">
						<a href="#" id="unclicked">Django <span>04</span></a>
					</div>
				</div>
			</div>
			<div class="menu-right">
				<div class="contact">
					<div class="mail">
						<div><span class="title">Contact</span><br /><br /></div>
						<div><span class="info">name : 이경근</span><br /></div>
						<div><span class="info">chuimi  : lol</span><br /></div>
						<div><span class="info">E-Mail : liebespaar93@gmail.com</span><br /></div>
					</div>
					<div class="socials">
						<div><span class="title">Follow Us</span><br /><br /></div>
						<div><span class="info">git : <a id="href_info" href="https://github.com/liebespaar93">https://github.com/liebespaar93 </a></span><br /><br /></div>
						<div><span class="info">blog :<a id="href_info" href="https://topknell.tistory.com/">https://topknell.tistory.com/</a></span></div>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<div class="menu-open">menu</div>
	<!-- cafe -->
	<div class ="cafe">
		<div class="containar">
			<table id="cafe_tb">
				<thead>
					<tr id='cols'>
						<td id='td1'>id</td>
						<td id='td2'>name</td>
						<td id='td3'>price</td>
					</tr>
				</thead>
				<tbody>
					{% for coffee in coffee_list %}
					<tr id="uncheck" name='{{coffee.id}}'>
						<td>{{forloop.counter}} {{coffee.id}}</td>
						<td>{{coffee.name}}</td>
						<td>{{coffee.price}}</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
			<div class="control">
				<div class='btn'>
					<input type="button" id="view" value="보기">
					<input type="button" id="create" value="추가">
					<input type="button" id="update" value="편집">
					<input type="button" id="delet" value="삭제">
				</div>			
			</div>
		</div>	
		<div class="clickdataboard">
		<form name="sub1" method ="POST"> {% csrf_token %}
			<div class="clickdata" id="clickdata" >
				{{ coffee_form.as_p }}
				<input type="text" readonly id="cafe_id" name="cafe_id" style="display: none;" value="0">
				<input type="submit" id="submit_coffee" name="view" value="확인">
				<input type="button" id="maker" name="close" value="닫기">
			</div>
		</form>			
		</div>
	</div>
	
	
	<!-- EDA -->
	
	<div class="parallaxboard">
		<!-- info -->
		<div class="info left">
			<p>test by version 0.001</p>
		</div>
		<!-- //info -->
		<!-- main -->
		<main>
			<section id="wrap">
				<h1>wine <em>tasting</em></h1>
				<div class="contents">
					<section id="section1" class="content-item">
						<span class="content-item-num">01</span>
						<h2 class="content-item-title">wind Data </h2>
						<figure class="content-item-imgWrap">
							<div class="content-item-img" onclick="window.open('https\://www.kaggle.com/aminbamavadat/winereviewscsv')"></div>
						</figure>
						<p class="content-item-desc" onclick="window.open('https\://www.kaggle.com/aminbamavadat/winereviewscsv')" >와인데이터</p>
					</section>
					<section id="section2" class="content-item">
						<span class="content-item-num">02</span>
						<h2 class="content-item-title">country</h2>
							{% autoescape off %}
							{{ plot_div }}
							{% endautoescape %}
						<p class="content-item-desc" id="section1text">나라별 와인의 점수와 가격</p>
					</section>
					<section id="section3" class="content-item">
						<span class="content-item-num">03</span>
						<h2 class="content-item-title">결과</h2>
						<figure class="content-item-imgWrap">
							<div class="content-item-img"></div>
						</figure>
						<p class="content-item-desc">구 와인의 경우 가격차가 많이나지만 <br>신 와인의 경우 가격차이 크지않았다</p>
					</section>
					<section id="section4" class="content-item">
						<span class="content-item-num">04</span>
						<h2 class="content-item-title">variety</h2>
							{% autoescape off %}
							{{ plot_div2 }}
							{% endautoescape %}
						<p class="content-item-desc">품종별 수량 및 점수 분포</p>
					</section>
					<section id="section5" class="content-item">
						<span class="content-item-num">05</span>
						<h2 class="content-item-title">품종별 점수</h2>
						<p class="content-item-desc">
							연관된 포도 품종인 C/S 과 C/S.Frc 같은경우는 비슷한 비율을 보여주고 있으며 <br>
							보르도 지역 화이트 와인의 경우 생산대비 좋은 품질을 보여주는것으로 볼수 있다
						</p>
					</section>
					<section id="section6" class="content-item">
						<span class="content-item-num">06</span>
						<h2 class="content-item-title">코드 보기</h2>
						<div class="colorscripter-code" style="color:#f0f0f0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#272727;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#f0f0f0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">import</span>&nbsp;plotly.offline&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">import</span>&nbsp;plotly.graph_objects&nbsp;<span style="color:#ff3399">as</span>&nbsp;gobj</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">fig&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;gobj.Figure()</div><div style="padding:0 6px; white-space:pre; line-height:130%">pd.options.plotting.backend&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#ffd500">"plotly"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">wine_df&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;pd.read_csv(<span style="color:#ffd500">'main/static/winedata/winemag-data_first150k.csv'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">wine_df<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>wine_df.fillna({<span style="color:#ffd500">'country'</span>:<span style="color:#ffd500">'no'</span>,<span style="color:#ffd500">'designation'</span>:<span style="color:#ffd500">'no'</span>,<span style="color:#ffd500">'price'</span>:<span style="color:#c10aff">0</span>,<span style="color:#ffd500">'province'</span>:<span style="color:#ffd500">'no'</span>,<span style="color:#ffd500">'region_1'</span>:<span style="color:#ffd500">'no'</span>,<span style="color:#ffd500">'region_2'</span>:<span style="color:#ffd500">'no'</span>&nbsp;})</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#4be6fa">print</span>(wine_df.isnull().sum())</div><div style="padding:0 6px; white-space:pre; line-height:130%">wind_dfPCP<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>wine_df[[<span style="color:#ffd500">'points'</span>,<span style="color:#ffd500">'country'</span>,<span style="color:#ffd500">'price'</span>]].groupby([<span style="color:#ffd500">'country'</span>,<span style="color:#ffd500">'points'</span>]).mean().reset_index()</div><div style="padding:0 6px; white-space:pre; line-height:130%">fig&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;wind_dfPCP.plot.line(x<span style="color:#0086b3"></span><span style="color:#ff3399">=</span><span style="color:#ffd500">"points"</span>,y<span style="color:#0086b3"></span><span style="color:#ff3399">=</span><span style="color:#ffd500">"price"</span>,&nbsp;color<span style="color:#0086b3"></span><span style="color:#ff3399">=</span><span style="color:#ffd500">"country"</span>,&nbsp;line_group<span style="color:#0086b3"></span><span style="color:#ff3399">=</span><span style="color:#ffd500">"country"</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">fig.update_layout(yaxis_tickprefix&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#ffd500">'$'</span>,&nbsp;yaxis_tickformat&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#ffd500">',.'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">plot_div&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;plotly.offline.plot(fig,include_plotlyjs<span style="color:#0086b3"></span><span style="color:#ff3399">=</span><span style="color:#4be6fa">False</span>,output_type<span style="color:#0086b3"></span><span style="color:#ff3399">=</span><span style="color:#ffd500">"div"</span>)</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4f; text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
						<p class="content-item-desc">나라별 와인의 점수와 가격.</p>
					</section>
					<section id="section7" class="content-item">
						<span class="content-item-num">07</span>
						<h2 class="content-item-title">코드 보기</h2>
						<div class="colorscripter-code" style="color:#f0f0f0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#272727;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#f0f0f0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">fig2&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;gobj.Figure()</div><div style="padding:0 6px; white-space:pre; line-height:130%">variety_df&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;wine_df[<span style="color:#ffd500">'variety'</span>].value_counts()</div><div style="padding:0 6px; white-space:pre; line-height:130%">variety_df&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;variety_df[variety_df&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;<span style="color:#c10aff">1000</span>]</div><div style="padding:0 6px; white-space:pre; line-height:130%">variety_df.reset_index()[<span style="color:#ffd500">'index'</span>]</div><div style="padding:0 6px; white-space:pre; line-height:130%">winevar_df<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>wine_df[wine_df.variety.isin(variety_df.reset_index()[<span style="color:#ffd500">'index'</span>])]</div><div style="padding:0 6px; white-space:pre; line-height:130%">winevarietypoints_df&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;winevar_df[[<span style="color:#ffd500">'variety'</span>,<span style="color:#ffd500">'points'</span>]].value_counts().reset_index().sort_values(by&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;[<span style="color:#ffd500">'variety'</span>,<span style="color:#ffd500">'points'</span>]).reset_index().drop([<span style="color:#ffd500">'index'</span>],&nbsp;axis<span style="color:#0086b3"></span><span style="color:#ff3399">=</span><span style="color:#c10aff">1</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">winevarietypoints_df[<span style="color:#ffd500">'relative'</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;(winevarietypoints_df[<span style="color:#c10aff">0</span>]<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>winevarietypoints_df.groupby([<span style="color:#ffd500">'variety'</span>]).sum().loc[winevarietypoints_df.variety[<span style="color:#c10aff">0</span>]][<span style="color:#c10aff">0</span>])<span style="color:#0086b3"></span><span style="color:#ff3399">*</span><span style="color:#0086b3"></span><span style="color:#ff3399">*</span><span style="color:#c10aff">0.</span><span style="color:#c10aff">25</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">fig&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;winevarietypoints_df.plot.bar(x<span style="color:#0086b3"></span><span style="color:#ff3399">=</span><span style="color:#ffd500">"relative"</span>,y<span style="color:#0086b3"></span><span style="color:#ff3399">=</span><span style="color:#ffd500">"variety"</span>,color<span style="color:#0086b3"></span><span style="color:#ff3399">=</span><span style="color:#ffd500">"points"</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">plot_div2&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;plotly.offline.plot(fig,include_plotlyjs<span style="color:#0086b3"></span><span style="color:#ff3399">=</span><span style="color:#4be6fa">False</span>,output_type<span style="color:#0086b3"></span><span style="color:#ff3399">=</span><span style="color:#ffd500">"div"</span>)</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4f; text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
						<p class="content-item-desc">품종별 수량 및 점수 분포</p>
					</section>
					<section id="section8" class="content-item">
						<span class="content-item-num">08</span>
						<h2 class="content-item-title">느낀점</h2>
						<p class="content-item-desc">aws는 안쓰는게 좋은거 같다.</p>
					</section>
					<section id="section9" class="content-item">
						<span class="content-item-num">09</span>
						<h2 class="content-item-title">자료참고</h2>
						
						<p class="content-item-desc">
							<a href="https://plotly.com/python/pandas-backend/"> plotly 쓰는법</a><br>
							<a href="https://stackoverflow.com/questions/38927099/keyerror-nan-in-dict">keyerror: (nan, '', '', '', '', nan) plotly</a><br>
							<a href="https://stackoverflow.com/questions/58140143/add-currency-symbol-in-the-y-axis-scale-using-plotly-method-in-python">y축 달라표시</a><br>
							<a href="https://stackoverflow.com/questions/52047884/similar-to-seaborns-hue-function-in-plotly">ploty hue 쓰는법 </a>

						</p>
					</section>
				</div>
			</section>
		</main>
		<!-- //main -->
	</div>
</body>
</html>
